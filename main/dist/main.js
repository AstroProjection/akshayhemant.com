(()=>{function t(t,a){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,a){if(t){if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){s=!0,i=t},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var a=document.getElementById("rayCanvas"),n=a.getContext("2d"),o=document.getElementById("speedDisplay"),r=document.getElementById("speedValue"),i=document.getElementById("speedDetails"),l=document.getElementById("hoursValue"),s=document.getElementById("daysValue"),c=document.getElementById("sliderValue"),d=document.getElementById("heroTitle"),h=document.getElementById("heroSubtitle"),y=document.getElementById("mainNav"),u=document.getElementById("controls"),m=document.getElementById("scrollBlur");u.style.transition="opacity 0.5s ease",o.style.transition="opacity 0.5s ease",y.style.transition="opacity 0.5s ease, background 0.3s ease",d.style.opacity="0",h.style.opacity="0",y.style.opacity="0.2",u.style.opacity="1",o.style.opacity="1";var f=setTimeout((function(){window.scrollY<10||p()}),3e3);function p(){y.style.opacity="1",d.style.opacity="1",d.style.transform="translateY(0)",f=setTimeout((function(){h.style.opacity="1",h.style.transform="translateY(0)"}),300)}var v=new Image;v.crossOrigin="Anonymous",v.src="../assets/earth.jpg";var M=["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Earth_from_space_north_pole.jpg/1200px-Earth_from_space_north_pole.jpg","https://eoimages.gsfc.nasa.gov/images/imagerecords/73000/73909/world.topo.bathy.200412.3x5400x2700.jpg"],g=0,w=!1;function x(){a.width=window.innerWidth,a.height=window.innerHeight}v.onload=function(){console.log("Earth image loaded successfully"),w=!0,b&&G()},v.onerror=function(){console.log("Error loading Earth image, trying fallback"),++g<M.length?v.src=M[g]:console.log("All Earth image URLs failed")},x(),window.addEventListener("resize",(function(){x(),q()}));var b,S,E,I,P=[],k=!0,L=0,A=0,C=[],B=.0041,R=24*B,T=1;function Y(){var t=(B*T/.9856*365.25).toFixed(4),e=(R*T/15).toFixed(4),a=(.24*T).toFixed(2);r.textContent="".concat(T.toLocaleString(),"x"),l.textContent=e,s.textContent=t,c.textContent="".concat(T.toLocaleString(),"x"),i.innerHTML='\n     Earth rotation: <span id="hoursValue">'.concat(e,'</span> hours/frame<br>\n     Earth orbit: <span id="daysValue">').concat(t,"</span> days/frame<br>\n     1 sec â‰ˆ <span>").concat(a,"</span> Earth days\n   ")}function q(){E&&cancelAnimationFrame(E);var t=a.width/2,e=a.height/2;S={x:t,y:e,r:.08*Math.min(a.width,a.height)};var n=window.scrollY||0,o=.3*Math.min(a.width,a.height),r=.0167+Math.min(5,.2*n/o),i=o,l=i*Math.sqrt(1-r*r);b={orbitRadius:o,r:.075*Math.min(a.width,a.height),axialTilt:23.5,orbitalInclination:0,x:t+i*Math.cos(V(L)),y:e+l*Math.sin(V(L)),rotationAngle:0,seasonalAngle:0},L=0,A=0,function(){P=[];for(var t=Math.floor(360),e=0;e<t;e++){var a=1*e,n=V(a),o={x:Math.cos(n),y:Math.sin(n)},r={x:S.x,y:S.y},i=.2+.05*Math.random();P.push({start:r,dir:o,end:{x:r.x,y:r.y},angle:a,baseOpacity:i,phase:Math.random()*Math.PI*2,color:"rgba(255, 215, 0, ".concat(i,")")})}}(),function(){C=[];for(var t=Math.floor(a.width*a.height/2e3),e=0;e<t;e++){var n=Math.random()*a.width,o=Math.random()*a.height,r=Math.random()>.97?2+1.5*Math.random():.5+1.5*Math.random(),i=r<1.2?2+3*Math.random():.8+1.2*Math.random(),l=.3+.6*Math.random(),s=.3+3*Math.random(),c=Math.random()*Math.PI*2,d=Math.random()*Math.PI*2,h=Math.random()*Math.PI*2,y=Math.floor(4*Math.random()),u=Math.random()>.7?Math.random()>.5?210+30*Math.random():40+20*Math.random():0,m=0===u?0:20+30*Math.random(),f=Math.random()>.85,p=.03+.15*Math.random(),v=Math.random()*Math.PI*2,M=r<1.5?1+2*Math.random():.3+.7*Math.random(),g=Math.random()*Math.PI*2,w=Math.random()>.7,x=.01+.05*Math.random(),b=.2+.8*Math.random(),S=Math.random()*Math.PI*2;C.push({x:n,y:o,originalX:n,originalY:o,size:r,baseBrightness:l,flickerSpeed:s,phase:c,phase2:d,phase3:h,twinklePattern:y,hue:u,saturation:m,hasGlow:f,distance:i,moveSpeed:p,moveAngle:v,moveRadius:M,movePhase:g,hasSecondaryMovement:w,secondaryMoveSpeed:x,secondaryMoveRadius:b,secondaryMovePhase:S})}}(),F(),O(),Y(),z()}function V(t){return t*Math.PI/180}function _(t,e,a,n){var o=t.x-a.x,r=t.y-a.y,i=e.x*e.x+e.y*e.y,l=2*(o*e.x+r*e.y),s=l*l-4*i*(o*o+r*r-n*n);if(s<0)return null;var c=Math.sqrt(s),d=(-l-c)/(2*i),h=(-l+c)/(2*i),y=null;return d>0&&h>0?y=Math.min(d,h):d>0?y=d:h>0&&(y=h),y}function j(t,e){var n=a.width,o=a.height,r=null;Math.abs(e.y)>1e-6&&(r=(0-t.y)/e.y);var i=null;Math.abs(e.y)>1e-6&&(i=(o-t.y)/e.y);var l=null;Math.abs(e.x)>1e-6&&(l=(0-t.x)/e.x);var s=null;Math.abs(e.x)>1e-6&&(s=(n-t.x)/e.x);var c=1/0;return null!==r&&r>0&&r<c&&(c=r),null!==i&&i>0&&i<c&&(c=i),null!==l&&l>0&&l<c&&(c=l),null!==s&&s>0&&s<c&&(c=s),c===1/0?null:c}function F(){var t=V(L),e=window.scrollY||0,a=.0167+Math.min(.2,.2*e/b.orbitRadius),n=b.orbitRadius,o=n*Math.sqrt(1-a*a);b.x=S.x+n*Math.cos(t),b.y=S.y+o*Math.sin(t),b.rotationAngle=A,b.seasonalAngle=(L+90)%360}function O(){var e,a=t(P);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.start.x=S.x,n.start.y=S.y;var o,r=_(n.start,n.dir,b,b.r),i=j(n.start,n.dir);o=null!==r&&r>0?null!==i?Math.min(r,i):r:i,n.end=null!==o&&o>0?{x:n.start.x+o*n.dir.x,y:n.start.y+o*n.dir.y}:{x:n.start.x,y:n.start.y}}}catch(t){a.e(t)}finally{a.f()}}function G(){n.fillStyle="#000",n.fillRect(0,0,a.width,a.height),function(){var e,a=.001*performance.now(),o=B*T/100,r=t(C);try{for(r.s();!(e=r.n()).done;){var i=e.value,l=void 0;switch(i.twinklePattern){case 0:l=.2*Math.sin(a*i.flickerSpeed+i.phase);break;case 1:l=.15*Math.sin(a*i.flickerSpeed+i.phase)+.1*Math.sin(a*(.7*i.flickerSpeed)+i.phase2)+.05*Math.sin(a*(1.3*i.flickerSpeed)+i.phase3);break;case 2:l=.2*Math.abs(Math.sin(a*i.flickerSpeed+i.phase))-.1;break;case 3:l=.1*Math.sin(a*i.flickerSpeed+i.phase)+.05*Math.sin(10*a+i.phase2)*Math.sin(a+i.phase3)}var s=Math.max(.1,Math.min(1,i.baseBrightness+l)),c=1/i.distance,d=Math.cos(a*i.moveSpeed*o+i.movePhase)*i.moveRadius*c,h=Math.sin(a*i.moveSpeed*o+i.movePhase+i.moveAngle)*i.moveRadius*c;i.hasSecondaryMovement&&(d+=Math.cos(a*i.secondaryMoveSpeed*o+i.secondaryMovePhase)*i.secondaryMoveRadius*c,h+=Math.sin(a*i.secondaryMoveSpeed*o+1.5*i.secondaryMovePhase)*i.secondaryMoveRadius*c);var y=i.originalX+d,u=i.originalY+h;if(0===i.hue?n.fillStyle="rgba(255, 255, 255, ".concat(s,")"):n.fillStyle="hsla(".concat(i.hue,", ").concat(i.saturation,"%, 80%, ").concat(s,")"),i.hasGlow){var m=i.size*(2+.5*Math.sin(.5*a+i.phase)),f=n.createRadialGradient(y,u,0,y,u,m);0===i.hue?(f.addColorStop(0,"rgba(255, 255, 255, ".concat(.8*s,")")),f.addColorStop(1,"rgba(255, 255, 255, 0)")):(f.addColorStop(0,"hsla(".concat(i.hue,", ").concat(i.saturation,"%, 80%, ").concat(.8*s,")")),f.addColorStop(1,"hsla(".concat(i.hue,", ").concat(i.saturation,"%, 80%, 0)"))),n.fillStyle=f,n.beginPath(),n.arc(y,u,m,0,2*Math.PI),n.fill(),0===i.hue?n.fillStyle="rgba(255, 255, 255, ".concat(s,")"):n.fillStyle="hsla(".concat(i.hue,", ").concat(i.saturation,"%, 80%, ").concat(s,")")}n.beginPath(),n.arc(y,u,i.size,0,2*Math.PI),n.fill()}}catch(t){r.e(t)}finally{r.f()}}(),n.strokeStyle="rgba(255, 255, 255, 0.1)";var e=window.scrollY||0,o=.0167+Math.min(.2,.2*e/b.orbitRadius),r=b.orbitRadius,i=r*Math.sqrt(1-o*o);n.beginPath();for(var l=0;l<360;l+=5){var s=V(l),c=S.x+r*Math.cos(s),d=S.y+i*Math.sin(s);0===l?n.moveTo(c,d):n.lineTo(c,d)}n.closePath(),n.stroke(),n.lineWidth=1;var h,y=t(P);try{for(y.s();!(h=y.n()).done;){var u=h.value;n.strokeStyle=u.color,n.beginPath(),n.moveTo(u.start.x,u.start.y),n.lineTo(u.end.x,u.end.y),n.stroke()}}catch(t){y.e(t)}finally{y.f()}!function(){if(n.fillStyle="#1565C0",n.beginPath(),n.arc(b.x,b.y,b.r,0,2*Math.PI),n.fill(),w)try{n.save(),n.beginPath(),n.arc(b.x,b.y,b.r,0,2*Math.PI),n.clip();var t=2.5*b.r;n.translate(b.x,b.y),n.rotate(V(b.axialTilt));var e=V(b.rotationAngle),a=-(v.width||t)*(e/(2*Math.PI));n.drawImage(v,-t/2+a%t,-t/2,t,t),n.drawImage(v,-t/2+a%t+t,-t/2,t,t),n.setTransform(1,0,0,1,0,0),n.restore()}catch(t){console.error("Error drawing Earth image:",t)}var o=.3+.1*Math.cos(V(b.seasonalAngle)),r=n.createRadialGradient(b.x,b.y,.9*b.r,b.x,b.y,1.1*b.r);r.addColorStop(0,"rgba(255, 255, 255, ".concat(o,")")),r.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=r,n.beginPath(),n.arc(b.x,b.y,1.1*b.r,0,2*Math.PI),n.fill()}();var m=n.createRadialGradient(S.x,S.y,0,S.x,S.y,S.r);m.addColorStop(0,"rgba(255, 255, 255, 1)"),m.addColorStop(.2,"rgba(255, 255, 0, 1)"),m.addColorStop(1,"rgba(255, 165, 0, 0.8)"),n.fillStyle=m,n.beginPath(),n.arc(S.x,S.y,S.r,0,2*Math.PI),n.fill()}function z(){if(k){L=(L+B*T)%360,A=(A+R*T)%360,F(),O();var e,a=.001*performance.now(),n=t(P);try{for(n.s();!(e=n.n()).done;){var o=e.value,r=.05*Math.sin(a+o.phase),i=Math.max(.1,Math.min(.4,o.baseOpacity+r));o.color="rgba(255, 215, 0, ".concat(i,")")}}catch(t){n.e(t)}finally{n.f()}}G(),E=requestAnimationFrame(z)}function D(){var t=window.scrollY,e=window.innerHeight;f&&(clearTimeout(f),f=null),t<20?(d.style.opacity="0",d.style.transform="translateY(30px)",h.style.opacity="0",h.style.transform="translateY(30px)",y.style.opacity="0.2",clearTimeout(f),u.style.opacity="1",o.style.opacity="1","0"!==m.style.opacity&&setTimeout((function(){m.style.opacity="0"}),300)):(p(),u.style.opacity="0",o.style.opacity="0"),document.querySelectorAll(".section-inner").forEach((function(t){t.getBoundingClientRect().top<.8*e&&t.classList.add("visible")})),t>50?y.classList.add("scrolled"):y.classList.remove("scrolled")}document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("toggleAnimation"),e=document.getElementById("resetView"),a=document.getElementById("speedMultiplier");t&&t.addEventListener("click",(function(){k=!k,t.textContent=k?"Pause":"Resume"})),e&&e.addEventListener("click",q),a&&a.addEventListener("input",(function(){T=parseFloat(a.value),Y()})),D(),window.addEventListener("scroll",D),document.querySelectorAll('a[href^="#"]').forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=this.getAttribute("href");if("#"!==e){var a=document.querySelector(e);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}))})),y.addEventListener("mouseenter",(function(){y.style.opacity="1"})),y.addEventListener("mouseleave",(function(){window.scrollY<20&&(y.style.opacity="0.2")})),u.addEventListener("mouseenter",(function(){window.scrollY>=20&&(u.style.opacity="0.7")})),u.addEventListener("mouseleave",(function(){window.scrollY>=20&&(u.style.opacity="0")})),o.addEventListener("mouseenter",(function(){window.scrollY>=20&&(o.style.opacity="0.7")})),o.addEventListener("mouseleave",(function(){window.scrollY>=20&&(o.style.opacity="0")}))})),window.addEventListener("scroll",(function(){window.scrollY,S&&b&&(S.x=a.width/2,S.y=a.height/2,F(),O())})),window.addEventListener("scroll",(function(){m.style.opacity="1",clearTimeout(I),I=setTimeout((function(){m.style.opacity="0"}),800)})),q()})();
//# sourceMappingURL=main.js.map